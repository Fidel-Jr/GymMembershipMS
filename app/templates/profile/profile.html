{% extends 'base.html' %}
{% block title %}My Profile | Gym Membership Management{% endblock %}
{% block content %}
<div class="container mt-4">
	<h2>My Profile</h2>
	
	<form method="POST" enctype="multipart/form-data">
		{{ form.hidden_tag() }}
		<div class="row">
			<div class="col-md-4 text-center">
				{% if user.image %}
					<img src="{{ url_for('static', filename='img/users/' ~ user.image) }}"
					class="rounded-circle"
					style="width:150px; height:150px; object-fit:cover;"
					alt="avatar">
				{% else %}
					<img src="{{ url_for('static', filename='img/default-profile.png') }}" class="mb-3" style="max-width:200px;">
				{% endif %}
			</div>
			<div class="col-md-8">
				<div class="form-group">
					{{ form.full_name.label(class="form-label") }}
					{{ form.full_name(class="form-control") }}
				</div>
				<div class="form-group">
					{{ form.email.label(class="form-label") }}
					{{ form.email(class="form-control") }}
				</div>
				<div class="form-group">
					{{ form.contact_number.label(class="form-label") }}
					{{ form.contact_number(class="form-control") }}
				</div>
				<div class="form-group">
					{{ form.password.label(class="form-label") }}
					{{ form.password(class="form-control") }}
				</div>
				<div class="form-group">
					{{ form.image.label(class="form-label") }}
					{{ form.image(class="form-control") }}
				</div>
				
				<button type="submit" class="btn btn-primary mt-3">Save Changes</button>
				{% with messages = get_flashed_messages(with_categories=true) %}
					{% if messages %}
						{% for category, message in messages %}
						<div class="alert alert-{{ category }} text-center mt-2" role="alert">
							{{ message }}
						</div>
						{% endfor %}
				{% endif %}
				{% endwith %}
			</div>
		</div>
	</form>
</div>
{% endblock %}
